{"version":3,"sources":["context/UserReducer.js","context/UserContext.js","context/UserActions.js","components/header/Header.js","components/followee/Followee.js","utils/logger.js","components/followingbar/FollowingBar.js","components/makepost/MakePost.js","components/post/Post.js","components/feed/Feed.js","pages/home/Home.js","components/profileinfo/ProfileInfo.js","pages/profile/Profile.js","apiCalls.js","pages/login/Login.js","pages/register/Register.js","App.js","index.js"],"names":["UserReducer","state","action","type","user","isRetrieving","error","payload","following","filter","currUser","INITAL_STATE","JSON","parse","localStorage","getItem","UserContext","createContext","UserContextProvider","children","useReducer","dispatch","useEffect","setItem","stringify","Provider","value","LoginSuccess","LoginFailure","Header","isHomepage","username","useContext","PF","process","className","onClick","clear","window","location","replace","to","src","profilePicture","alt","href","Followee","logger","info","console","log","FollowingBar","useState","followees","setFollowees","a","_id","axios","get","followingUsers","data","u","undefined","getUsers","id","document","getElementById","scrollTo","htmlColor","length","fontSize","map","followee","MakePost","caption","useRef","file","setFile","button","setButton","uploadMedia","newPost","userId","current","FormData","filename","Date","now","name","append","content","post","reload","alert","profileOrCover","params","updatedUser","refreshedUser","coverPicture","put","bio","setUploadedFile","event","target","files","placeholder","ref","maxLength","URL","createObjectURL","onSubmit","preventDefault","htmlFor","style","display","accept","onChange","TimeAgo","locale","en","timeAgo","Post","likes","numLikes","setNumLikes","setUser","isLiked","setIsLiked","dropdown","setDropdown","currentUser","dropdownName","widgetName","response","getUser","includes","editPost","updatedCaption","prompt","toLowerCase","updatedPost","deletePost","delete","color","format","createdAt","getTime","marginLeft","Feed","posts","setPosts","feedWrapper","sort","p1","p2","getPosts","userName","Home","ProfileInfo","followedUsers","setFollowedUsers","followed","setFollowed","followedUserList","getFollowedUsers","handleClick","setInfo","field","input","charAt","toUpperCase","slice","job","education","followedUser","textDecoration","Profile","useParams","editProfile","updatedField","oldProfile","test","email","result","newName","password","deleteAccount","loginCall","userCredentials","Login","required","minLength","disabled","CircularProgress","size","Register","waiting","setWaiting","confirmPassword","refresh","setCustomValidity","setTimeout","App","exact","path","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.79130f21.chunk.js","sourcesContent":["const UserReducer = (state, action) => {\r\n  switch(action.type) {\r\n    case 'LOGIN_START':\r\n      return {\r\n        user: null,\r\n        isRetrieving: true,\r\n        error: false\r\n      }\r\n    case 'LOGIN_SUCCESS':\r\n      return {\r\n        user: action.payload,\r\n        isRetrieving: false,\r\n        error: false\r\n      }\r\n    case 'LOGIN_FAILURE':\r\n      return {\r\n        user: null,\r\n        isRetrieving: false,\r\n        error: action.payload\r\n      }\r\n    case 'FOLLOW':\r\n      return {\r\n        ...state,\r\n        user: {\r\n          ...state.user,\r\n          following: [...state.user.following, action.payload]\r\n        }\r\n      };\r\n      case 'UNFOLLOW':\r\n        return {\r\n          ...state,\r\n          user: {\r\n            ...state.user,\r\n            following: state.user.following.filter(currUser => currUser !== action.payload)\r\n          }\r\n        };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default UserReducer;","import { createContext, useEffect, useReducer } from 'react';\r\nimport UserReducer from './UserReducer';\r\n\r\nconst INITAL_STATE = {\r\n  user: JSON.parse(localStorage.getItem('user')) || null,\r\n  isRetrieving: false,\r\n  error: false\r\n};\r\n\r\nexport const UserContext = createContext(INITAL_STATE);\r\n\r\nexport const UserContextProvider = ({ children }) => {\r\n  const [state, dispatch] = useReducer(UserReducer, INITAL_STATE);\r\n\r\n  useEffect(() => {\r\n    localStorage.setItem('user', JSON.stringify(state.user));\r\n  });\r\n\r\n  return (\r\n    <UserContext.Provider \r\n      value={{ \r\n        user: state.user, \r\n        isRetrieving: state.isRetrieving, \r\n        error: state.error,\r\n        dispatch \r\n      }}\r\n    >\r\n      {children}\r\n    </UserContext.Provider>  \r\n  );\r\n};\r\n","export const LoginStart = () => ({\r\n  type: 'LOGIN_START'\r\n});\r\n\r\nexport const LoginSuccess = user => ({\r\n    type: 'LOGIN_SUCCESS',\r\n    payload: user\r\n});\r\n\r\nexport const LoginFailure = error => ({\r\n    type: 'LOGIN_FAILURE',\r\n    payload: error\r\n});\r\n\r\nexport const Follow = userId => ({\r\n  type: 'FOLLOW',\r\n  payload: userId\r\n});\r\n\r\nexport const Unfollow = userId => ({\r\n  type: 'UNFOLLOW',\r\n  payload: userId\r\n});","import './header.css';\r\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';  \r\nimport { Link } from 'react-router-dom';  \r\nimport { useContext } from 'react';\r\nimport { UserContext } from './../../context/UserContext';\r\nimport { LoginSuccess } from './../../context/UserActions';\r\n\r\nconst Header = ({ isHomepage, username }) => {\r\n  const { user, dispatch } = useContext(UserContext);\r\n  const PF = process.env.REACT_APP_PUBLIC_FOLDER;\r\n\r\n  const logout = () => {\r\n    dispatch(LoginSuccess(null));\r\n    localStorage.clear();\r\n    window.location.replace('http://localhost:3000/register');\r\n  };\r\n\r\n  return (\r\n    <div className=\"headerContainer\">\r\n      <div className=\"headerLeft\"/>\r\n        <button className=\"logoutButton\" onClick={logout}>\r\n          <Link to=\"/\">\r\n            <ExitToAppIcon className=\"logoutButtonLogo\" />\r\n          </Link>\r\n        </button>\r\n      <div className=\"headerCenter\">\r\n        <Link to =\"/\">\r\n          <span className=\"logo\">InTouch</span>\r\n        </Link>\r\n      </div>\r\n      <div className=\"headerRight\">\r\n        {(isHomepage || user.username !== username)\r\n          ? <Link to={`/profile/${user.username}`}>\r\n              <img src={user.profilePicture ? PF + user.profilePicture: PF + '/user/defaultAvatar.jpg'} alt=\"\" className=\"headerProPic\"/>\r\n            </Link>\r\n          : <a href=\"#top\">\r\n              <img src={user.profilePicture ? PF + user.profilePicture: PF + '/user/defaultAvatar.jpg'} alt=\"\" className=\"headerProPic\"/>\r\n            </a>\r\n        }\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Header;","import './followee.css';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst Followee = ({ user }) => {\r\n  const PF = process.env.REACT_APP_PUBLIC_FOLDER;\r\n\r\n  return (\r\n    <Link to={`/profile/${user.username}`}>\r\n      <li className=\"followingbarFollowee\">\r\n        <img className=\"followingbarFolloweeImg\" src={user.profilePicture ? PF + user.profilePicture: PF + \"/user/defaultAvatar.jpg\"} alt=\"\"/>\r\n        <span className=\"followingbarFolloweeName\">{user.username}</span>\r\n      </li>\r\n    </Link>\r\n  );\r\n};\r\n\r\nexport default Followee;","const info = (...params) => console.log(...params);\r\n\r\nconst error = (...params) => console.log(...params);\r\n\r\nconst logger = { info, error };\r\n\r\nexport default logger;","import './followingbar.css';\r\nimport SupervisorAccountIcon from '@material-ui/icons/SupervisorAccount';\r\nimport PersonOutlineIcon from '@material-ui/icons/PersonOutline';\r\nimport Followee from '../followee/Followee';\r\nimport { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport logger from '../../utils/logger';\r\n\r\nconst FollowingBar = ({ user }) => {\r\n  const [followees, setFollowees] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const getUsers = async () => {\r\n      try {\r\n        if (user && user._id) {\r\n          const followingUsers = await axios.get(`/users/following/${user._id}`);\r\n          setFollowees(followingUsers.data.filter(u => u !== null && u !== undefined));\r\n        }   \r\n      } catch(error) {\r\n        logger.error(error);\r\n      }\r\n    }\r\n    getUsers();\r\n  }, [user]);\r\n\r\n  const scrollTop = () => document.getElementById('followingbar').scrollTo(0, 0);\r\n\r\n  return (\r\n    <div id=\"followingbar\">\r\n      <div className=\"followingbarWrapper\">\r\n        <div className=\"followingbarTitleWrapper\">\r\n          <div \r\n            className=\"followingbarTitle\" \r\n            onClick={scrollTop}>\r\n            <SupervisorAccountIcon className=\"followeeLogo\" htmlColor=\"rgb(100, 100, 100)\"/>\r\n            <p>Following</p>\r\n          </div>\r\n          <hr className=\"followingbarHr\"/>\r\n        </div>\r\n        {followees.length === 0\r\n        ? <div className=\"noUsersFollowing\">\r\n            <PersonOutlineIcon className=\"noUsersFollowingIcon\" fontSize=\"large\" />\r\n            Following No Users\r\n          </div> \r\n        : <ul className=\"followingbarFollowees\">\r\n            {followees.map(followee => <Followee key={followee._id} user={followee} />)}\r\n          </ul>\r\n        }\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FollowingBar;","import './makepost.css'\r\nimport AddPhotoAlternateIcon from '@material-ui/icons/AddPhotoAlternate';\r\nimport PersonIcon from '@material-ui/icons/Person';\r\nimport PanoramaIcon from '@material-ui/icons/Panorama';\r\nimport SubjectIcon from '@material-ui/icons/Subject';\r\nimport CancelIcon from '@material-ui/icons/Cancel';\r\nimport { useContext, useRef, useState } from 'react';\r\nimport { UserContext } from './../../context/UserContext';\r\nimport { LoginSuccess } from './../../context/UserActions';\r\nimport { Link } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport logger from './../../utils/logger';\r\n\r\nconst MakePost = ({ isHomepage }) => {\r\n  const { user, dispatch } = useContext(UserContext);\r\n  const PF = process.env.REACT_APP_PUBLIC_FOLDER;\r\n  const caption = useRef();\r\n  const [file, setFile] = useState(null);\r\n  const [button, setButton] = useState('media');\r\n\r\n  const uploadMedia = async () => {\r\n    const newPost = {\r\n      userId: user._id,\r\n      caption: caption.current.value\r\n    };\r\n    \r\n    if (file) {\r\n      const data = new FormData();\r\n      const filename = '/post/' + Date.now() + file.name;\r\n      data.append('name', filename);\r\n      data.append('file', file);\r\n      newPost.content = filename;\r\n      try {\r\n        await axios.post('/upload', data);\r\n      } catch(error) {\r\n        logger.error(error);\r\n      }\r\n    }\r\n\r\n    try {\r\n      if (file || caption.current.value) {\r\n        await axios.post('/posts', newPost);\r\n        window.location.reload();\r\n      } else {\r\n        alert('Cannot make an empty post');\r\n      }\r\n    } catch(error) {\r\n      logger.error(error);\r\n    }\r\n  };\r\n\r\n  const profileOrCover = async () => {\r\n    try {\r\n      if (file) {\r\n        const data = new FormData();\r\n        const filename = '/post/' + Date.now() + file.name;\r\n        data.append('name', filename);\r\n        data.append('file', file);\r\n        await axios.post('/upload', data);\r\n\r\n        const currUser = await axios.get('/users/', { params: { userId: user._id } });\r\n        let updatedUser = {};\r\n        let refreshedUser = {};\r\n        if (button === 'coverPhoto') {\r\n          updatedUser = { ...currUser, coverPicture: filename };\r\n          refreshedUser = { ...user, coverPicture: filename };\r\n        } else {\r\n          updatedUser = { ...currUser, profilePicture: filename };\r\n          refreshedUser = { ...user, profilePicture: filename };\r\n        }\r\n        await axios.put(`/users/${user._id}`, updatedUser);\r\n        dispatch(LoginSuccess(refreshedUser));\r\n        window.location.reload();\r\n      } else {\r\n        alert('Cannot update without a picture');\r\n      }\r\n    } catch(error) {\r\n      logger.error(error);\r\n    }\r\n  };\r\n\r\n  const bio = async () => {\r\n    try {\r\n      if (caption.current.value) {\r\n        const currUser = await axios.get('/users/', { params: { userId: user._id } });\r\n        const updatedUser = { ...currUser, bio: caption.current.value };\r\n        await axios.put(`/users/${user._id}`, updatedUser);\r\n        window.location.reload();\r\n      }\r\n    } catch(error) {\r\n      logger.error(error);\r\n    }\r\n  };\r\n\r\n  const submitCallback = event => {\r\n    event.preventDefault();\r\n  \r\n    if (button === 'media') {\r\n      uploadMedia();\r\n    } else if (button === 'profilePic' || button === 'coverPhoto') {\r\n      profileOrCover();\r\n    } else if (button === 'bio') {\r\n      bio();\r\n    } else {\r\n      logger.error('Invalid button press received');\r\n    }\r\n  };\r\n\r\n  const resetFile = () => setFile(null);\r\n\r\n  const uploadPostMedia = () => setButton('media');\r\n\r\n  const uploadProPic = () => {\r\n    setButton('profilePic');\r\n    alert('Select the photo you wish to be your new profile picture, then click post, like you are making a normal post.');\r\n  };\r\n\r\n  const uploadCoverPic = () => {\r\n    setButton('coverPhoto');\r\n    alert('Select the photo you wish to be your new cover photo, then click post, like you are making a normal post.');\r\n  };\r\n\r\n  const updateBio = () => { \r\n    setButton('bio'); \r\n    alert('Write your new bio in the text input area, as if you were writing a caption, then press post.'); \r\n  };\r\n\r\n  const setUploadedFile = event => setFile(event.target.files[0]);\r\n\r\n  return(\r\n    <div className=\"makepost\">\r\n      <div className=\"makepostWrapper\">\r\n        <div className=\"makepostTop\">\r\n          {isHomepage\r\n            ? <Link to={`/profile/${user.username}`}>\r\n                <img \r\n                  className=\"makepostProPic\" \r\n                  src={user.profilePicture ? PF + user.profilePicture : PF + \"/user/defaultAvatar.jpg\"} \r\n                  alt=\"\"\r\n                />\r\n              </Link>\r\n            : <a href=\"#top\">\r\n                <img \r\n                  className=\"makepostProPic\" \r\n                  src={user.profilePicture ? PF + user.profilePicture : PF + \"/user/defaultAvatar.jpg\"} \r\n                  alt=\"\"\r\n                />\r\n              </a>\r\n          }\r\n          <input \r\n            className=\"makepostInput\" \r\n            placeholder={\"What would you like to tell the world, \" + user.username + \"?\"}\r\n            ref={caption}\r\n            maxLength=\"500\"\r\n          />\r\n        </div>\r\n        <hr className=\"makepostHr\"/>\r\n        {file && (\r\n          <div className=\"makepostContentWrapper\">\r\n            <img className=\"makepostContent\" src={URL.createObjectURL(file)} alt=\"\"/>\r\n            <CancelIcon className=\"makepostContentCancel\" onClick={resetFile} />\r\n          </div>\r\n        )}\r\n        <form onSubmit={submitCallback}>\r\n          <div className=\"makepostBottom\">\r\n            <div className=\"makepostOptions\">\r\n              <label className=\"makepostOption\" htmlFor=\"media\" onClick={uploadPostMedia}>\r\n                <AddPhotoAlternateIcon className=\"makepostIcon\" htmlColor=\"rgb(206, 33, 55)\"/>\r\n                <span className=\"makepostOptionText\">Media</span>\r\n                <input \r\n                  type=\"file\" \r\n                  style={{ display: \"none\" }}\r\n                  id=\"media\" \r\n                  accept=\".png, .jpg, .jpeg\" \r\n                  onChange={setUploadedFile}\r\n                />\r\n              </label>            \r\n              <label \r\n                className=\"makepostOption\" \r\n                htmlFor=\"proPic\"\r\n                onClick={uploadProPic}>\r\n                <PersonIcon className=\"makepostIcon\" htmlColor=\"rgb(0, 102, 204\"/>\r\n                <span className=\"makepostOptionText\">Profile Picture</span>\r\n                <input \r\n                  type=\"file\" \r\n                  style={{ display: \"none\" }}\r\n                  id=\"proPic\" \r\n                  accept=\".png, .jpg, .jpeg\" \r\n                  onChange={setUploadedFile}\r\n                />\r\n              </label>\r\n              <label \r\n                className=\"makepostOption\" \r\n                htmlFor=\"cover\" \r\n                onClick={uploadCoverPic}>\r\n                <PanoramaIcon className=\"makepostIcon\" htmlColor=\"rgb(0, 180, 0)\"/>\r\n                <span className=\"makepostOptionText\">Cover Photo</span>\r\n                <input \r\n                  type=\"file\" \r\n                  style={{ display: \"none\" }} \r\n                  id=\"cover\" \r\n                  accept=\".png, .jpg, .jpeg\" \r\n                  onChange={setUploadedFile}\r\n                />\r\n              </label>\r\n              <label \r\n                className=\"makepostOption\" \r\n                onClick={updateBio}>\r\n                <SubjectIcon className=\"makepostIcon\" htmlColor=\"rgb(245, 176, 66)\"/>\r\n                <span className=\"makepostOptionText\">Bio</span>\r\n              </label>\r\n            </div>\r\n          </div>\r\n          <div className=\"makepostPostButtonSection\">\r\n            <button className=\"makepostPostButton\" type=\"submit\">Post</button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MakePost;","import './post.css';\r\nimport { useContext, useEffect, useState } from 'react';\r\nimport { UserContext } from './../../context/UserContext';\r\nimport { Link } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport MoreHorizIcon from '@material-ui/icons/MoreHoriz';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport logger from './../../utils/logger';\r\nimport TimeAgo from 'javascript-time-ago';\r\nimport en from 'javascript-time-ago/locale/en';\r\nTimeAgo.locale(en)\r\nconst timeAgo = new TimeAgo('en-US');\r\n\r\nconst Post = ({ post, isHomepage }) => {\r\n  const [numLikes, setNumLikes] = useState(post.likes.length);\r\n  const [user, setUser] = useState({});\r\n  const [isLiked, setIsLiked] = useState(false);\r\n  const [dropdown, setDropdown] = useState(false);  \r\n  const PF = process.env.REACT_APP_PUBLIC_FOLDER;\r\n  const { user: currentUser } = useContext(UserContext);\r\n  const dropdownName = isHomepage ? 'postDropdownHome': 'postDropdownProfile';\r\n  const widgetName = isHomepage ? 'postDropdownWidgetHome' : 'postDropdownWidgetProfile';\r\n\r\n  useEffect(() => {\r\n    const getUser = async () => {\r\n      const response = await axios.get(`/users?userId=${post.userId}`);\r\n      setUser(response.data);\r\n    }\r\n    getUser();\r\n  }, [post.userId]);\r\n\r\n  useEffect(() => {\r\n    setIsLiked(post.likes.includes(currentUser._id));\r\n  }, [currentUser, post.likes]);\r\n\r\n  const likeCallback = () => {\r\n    try {\r\n      axios.put('/posts/' + post._id + '/like', { userId: currentUser._id });\r\n    } catch(error) {\r\n      \r\n    }\r\n    setNumLikes(isLiked ? numLikes - 1 : numLikes + 1);\r\n    setIsLiked(!isLiked);\r\n  };\r\n\r\n  const editPost = async () => {\r\n    const updatedCaption = prompt('Enter the new caption for the post.');\r\n    const confirmation = prompt('Enter Y to confirm or anything else to cancel. Casing does not matter.')?.toLowerCase();\r\n\r\n    if (confirmation === 'y') {\r\n      try {\r\n        const updatedPost = { ...post, caption: updatedCaption };\r\n        await axios.put(`/posts/${post._id}`, updatedPost);\r\n        window.location.reload();\r\n      } catch(error) {\r\n        logger.error(error);\r\n      }\r\n    }\r\n  }\r\n\r\n  const deletePost = async () => {\r\n    const confirmation = prompt('Enter Y to confirm or anything else to cancel. Casing does not matter.')?.toLowerCase();\r\n\r\n    if (confirmation === 'y') {\r\n      try {\r\n        await axios.delete(`/posts/${post._id}`, { data: post });\r\n        window.location.reload();\r\n      } catch(error) {\r\n        logger.error(error);\r\n      }\r\n    }\r\n\r\n  };\r\n\r\n  const invertDropdown = () => setDropdown(!dropdown);\r\n\r\n  return (\r\n    <div className=\"post\">\r\n      <div className=\"postWrapper\">\r\n        <div className=\"postTop\">\r\n          {isHomepage \r\n            ? <Link to={`/profile/${user.username}`}>\r\n                <img className=\"postProPic\" src={user.profilePicture ? PF + user.profilePicture : PF + \"/user/defaultAvatar.jpg\"} alt=\"\"/>\r\n              </Link>\r\n            : <a href=\"#top\">\r\n                <img className=\"postProPic\" src={user.profilePicture ? PF + user.profilePicture : PF + \"/user/defaultAvatar.jpg\"} alt=\"\"/>\r\n              </a>\r\n          }\r\n          <div className=\"postTopText\">\r\n            {isHomepage \r\n              ? <Link to={`/profile/${user.username}`} color=\"black\">\r\n                  <span className=\"postUsername\">{user.username}</span>\r\n                </Link>\r\n              : <a href=\"#top\">\r\n                  <span className=\"postUsername\">{user.username}</span>\r\n                </a>\r\n            }\r\n          <span className=\"postDate\">{timeAgo.format(Date.now() - (Date.now() -new Date(post.createdAt).getTime()), 'mini-now')}</span>\r\n          </div>\r\n          {dropdown &&\r\n            <>\r\n              <div className={dropdownName}>\r\n                <div className=\"postDropdownEntry\" onClick={editPost}>\r\n                  <EditIcon className=\"postDropdownEdit\" />\r\n                  <span className=\"postDropdownEdit\">Edit Caption</span>\r\n                </div>\r\n                <div className=\"postDropdownEntry\" onClick={deletePost}>\r\n                  <DeleteIcon className=\"postDropdownDelete\" />\r\n                  <span className=\"postDropdownDelete\">Delete Post</span>\r\n                </div>\r\n              </div>\r\n              <div className={widgetName}/>\r\n            </>\r\n          }\r\n          {post?.userId === currentUser?._id \r\n            && <MoreHorizIcon \r\n                 className=\"postOptions\" \r\n                 style={{ marginLeft : isHomepage ? '80%' : '75%' }} \r\n                 onClick={invertDropdown}\r\n               />\r\n          }\r\n        </div>\r\n        <span className=\"postCaption\">{post?.caption}</span>\r\n        <div className=\"postCenter\">\r\n          <img className=\"postContent\" src={PF + post?.content} alt=\"\"/>\r\n        </div>\r\n        <div className=\"postBottom\">\r\n          <img className=\"likeButton\" src={`${PF}/likeButton.png`} onClick={likeCallback}alt=\"\"/>\r\n          <span className=\"postNumLikes\">{numLikes}</span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Post;","import './feed.css';\r\nimport MakePost from './../makepost/MakePost';\r\nimport Post from './../post/Post';\r\nimport { useContext, useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport { UserContext } from './../../context/UserContext'; \r\nimport EventBusyIcon from '@material-ui/icons/EventBusy';\r\n\r\nconst Feed = ({ username, isHomepage }) => {\r\n  const [posts, setPosts] = useState([]);\r\n  const { user } = useContext(UserContext);\r\n  const feedWrapper = isHomepage || posts.length > 0 || username === user.username ? \"homeFeedWrapper\" : \"profileFeedWrapper\";\r\n\r\n  useEffect(() => {\r\n    const getPosts = async () => {\r\n      const response = username \r\n        ? await axios.get('/posts/profile/' + username)\r\n        : await axios.get('posts/feed/' + user._id);\r\n      setPosts(response.data.sort((p1, p2) => new Date(p2.createdAt) - new Date(p1.createdAt)));\r\n    }\r\n    getPosts();\r\n  }, [username, user]);\r\n\r\n  return (\r\n    <div className=\"feed\">\r\n      <div className={feedWrapper}>\r\n        {(username === user.username || username === user.userName) && <MakePost isHomepage={isHomepage} />}\r\n        {posts.length === 0\r\n          ? <div className=\"noPosts\">\r\n              <EventBusyIcon className=\"noPostIcon\" fontSize=\"large\" />\r\n              No Posts Yet  \r\n            </div>\r\n          : posts.map(post => <Post key={post._id} post={post} isHomepage={isHomepage} />)\r\n        }\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Feed;","import React from 'react';\r\nimport Header from './../../components/header/Header';\r\nimport FollowingBar from './../../components/followingbar/FollowingBar';\r\nimport Feed from './../../components/feed/Feed';\r\nimport './home.css';\r\nimport { useContext } from 'react';\r\nimport { UserContext } from '../../context/UserContext';\r\n\r\nconst Home = () => {\r\n  const { user } = useContext(UserContext);\r\n\r\n  return (\r\n    <>\r\n      <Header isHomepage={true}/>\r\n      <div className='homeContainer'>\r\n        <FollowingBar user={user}/>\r\n        <Feed isHomepage={true}/>  \r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Home;","import './profileinfo.css';\r\nimport WorkIcon from '@material-ui/icons/Work';\r\nimport LocationOnIcon from '@material-ui/icons/LocationOn';\r\nimport SchoolIcon from '@material-ui/icons/School';\r\nimport PersonOutlineIcon from '@material-ui/icons/PersonOutline';\r\nimport { useContext, useEffect, useState } from 'react';\r\nimport { UserContext } from '../../context/UserContext';\r\nimport axios from 'axios';\r\nimport { Link } from 'react-router-dom';\r\nimport PersonAddIcon from '@material-ui/icons/PersonAdd';\r\nimport PersonAddDisabledIcon from '@material-ui/icons/PersonAddDisabled';\r\nimport logger from './../../utils/logger';\r\n\r\nconst ProfileInfo = ({ user }) => {\r\n  const PF = process.env.REACT_APP_PUBLIC_FOLDER;\r\n  const [followedUsers, setFollowedUsers] = useState([]);\r\n  const { user: currentUser, dispatch } = useContext(UserContext);\r\n  const [followed, setFollowed] = useState(currentUser.following.includes(user._id));\r\n\r\n  console.log(currentUser.following)\r\n\r\n  useEffect(() => {\r\n    setFollowed(currentUser.following.includes(user._id));\r\n  }, [currentUser, user]);\r\n\r\n  useEffect(() => {\r\n    const getFollowedUsers = async () => {\r\n      try {\r\n        if (user && user._id) {\r\n          const followedUserList = await axios.get(`/users/followers/${user._id}`);\r\n          setFollowedUsers(followedUserList.data.filter(u => u !== null && u !== undefined));\r\n        }\r\n      } catch(error) {\r\n        logger.error(error);\r\n      }\r\n    };\r\n    getFollowedUsers();\r\n  }, [user]);\r\n\r\n  const handleClick = async () => {\r\n    try {\r\n      if (followed) {\r\n        await axios.put(`/users/${user._id}/unfollow`, { userId: currentUser._id });\r\n        dispatch({ type: 'UNFOLLOW', payload: user._id });\r\n      } else {\r\n        await axios.put(`/users/${user._id}/follow`, { userId: currentUser._id });\r\n        dispatch({ type: 'FOLLOW', payload: user._id });\r\n      }\r\n    } catch(error) {\r\n      logger.error(error);\r\n    }\r\n    setFollowed(!followed);\r\n    window.location.reload();\r\n  };\r\n\r\n  const setInfo = async field => {\r\n    try {\r\n      let input = prompt('Enter your ' + field + '. There is a 40 character limit to keep information to the point.');\r\n      if (input.length > 40) {\r\n        field = field.charAt(0).toUpperCase() + field.slice(1);\r\n\r\n        input = field + ' unspecified';\r\n        alert(field + ' input exceeded 40 character limit. ' + field + ' set to unspecified.');\r\n\r\n        field = field.charAt(0).toLowerCase() + field.slice(1);\r\n      }\r\n\r\n      const currUser = await axios.get('/users/', { params: { userId: user._id } });\r\n      let updatedUser = {};\r\n      if (field === 'location') {\r\n        updatedUser = { ...currUser, location: input };\r\n      } else if (field === 'job') {\r\n        updatedUser = { ...currUser, job: input };\r\n      } else if (field === 'education') {\r\n        updatedUser = { ...currUser, education: input };\r\n      } else {\r\n        logger.error('Invalid user information field selected');\r\n      }\r\n\r\n      await axios.put(`/users/${user._id}`, updatedUser);\r\n      window.location.reload();\r\n    } catch(error) {\r\n      logger.error(error);\r\n    }\r\n  };\r\n\r\n  const setLocation = () => setInfo('location');\r\n  const setJob = () => setInfo('job');\r\n  const setEducation = () => setInfo('education');\r\n\r\n  return (\r\n    <div className='profileinfo'>\r\n      <div className=\"profileinfoItem\">\r\n        {user.username !== currentUser.username && \r\n          (\r\n            followed \r\n              ? <button className=\"profileinfoUnfollowButton\" onClick={handleClick}>\r\n                  <div className=\"profileinfoUnfollowButtonContent\"> \r\n                    <PersonAddDisabledIcon /> Unfollow \r\n                  </div>\r\n                </button>\r\n              : <button className=\"profileinfoFollowButton\" onClick={handleClick}>\r\n                  <div className=\"profileinfoFollowButtonContent\">\r\n                    <PersonAddIcon /> Follow\r\n                  </div>\r\n                </button> \r\n          )\r\n        }\r\n        <div className=\"profileinfoMain\">\r\n          <h4 className=\"profileinfoTitle\">Information</h4>\r\n          <div className=\"profileinfoPair\">\r\n            {currentUser._id === user._id \r\n              ? <LocationOnIcon className=\"profileinfoKeySelf\" htmlColor=\"rgb(60, 60, 60)\" onClick={setLocation} />\r\n              : <LocationOnIcon className=\"profileinfoKey\" htmlColor=\"rgb(60, 60, 60)\" />\r\n             }\r\n            <span className=\"profileinfoValue\">{user.location ? user.location : 'Location unspecified'}</span>\r\n          </div>\r\n          <div className=\"profileinfoPair\">\r\n            {currentUser._id === user._id\r\n              ? <WorkIcon className=\"profileinfoKeySelf\" htmlColor=\"rgb(60, 60, 60)\" onClick={setJob} />\r\n              : <WorkIcon className=\"profileinfoKey\" htmlColor=\"rgb(60, 60, 60)\" />\r\n            }\r\n            <span className=\"profileinfoValue\">{user.job ? user.job : 'Job unspecified'}</span>\r\n          </div>\r\n          <div className=\"profileinfoPair\">\r\n            {currentUser._id === user._id\r\n              ? <SchoolIcon className=\"profileinfoKeySelf\" htmlColor=\"rgb(60, 60, 60)\" onClick={setEducation} />\r\n              : <SchoolIcon className=\"profileinfoKey\" htmlColor=\"rgb(60, 60, 60)\" />\r\n            }\r\n            <span className=\"profileinfoValue\">{user.education ? user.education : 'Education unspecified'}</span>\r\n          </div>\r\n        </div>\r\n        <div className=\"profileinfoFollowing\">\r\n          <h4 className=\"profileinfoTitle\">Followers</h4>\r\n          {followedUsers.length === 0 \r\n            ? <div className=\"noUsersFollowed\">\r\n                <PersonOutlineIcon className=\"noUsersFollowedIcon\" fontSize=\"large\" />\r\n                No Followers\r\n              </div>\r\n            : <div className=\"profileinfoFollowingList\">\r\n                {followedUsers.map(followedUser => \r\n                    ( \r\n                      <Link key={followedUser._id} to={`/profile/${followedUser.username}`} style={{ textDecoration: \"none\" }}>\r\n                        <div className=\"profileinfoFollowee\">\r\n                          <img \r\n                            className=\"profileinfoFolloweeProPic\" \r\n                            src={followedUser.profilePicture ? PF + followedUser.profilePicture : PF + '/user/defaultAvatar.jpg'} \r\n                            alt=\"\"\r\n                          />\r\n                          <span className=\"profileinfoFolloweeUsername\">{followedUser.username}</span>\r\n                        </div>\r\n                      </Link>\r\n                    )\r\n                  )\r\n                }\r\n              </div>\r\n          }\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProfileInfo;","import './profile.css';\r\nimport Header from './../../components/header/Header';\r\nimport FollowingBar from './../../components/followingbar/FollowingBar';\r\nimport Feed from './../../components/feed/Feed';\r\nimport ProfileInfo from './../../components/profileinfo/ProfileInfo';\r\nimport { useContext, useEffect, useState } from 'react';\r\nimport { UserContext } from './../../context/UserContext';\r\nimport MoreHorizIcon from '@material-ui/icons/MoreHoriz';\r\nimport EmailIcon from '@material-ui/icons/Email';\r\nimport AssignmentIndIcon from '@material-ui/icons/AssignmentInd';\r\nimport LockIcon from '@material-ui/icons/Lock';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport axios from 'axios';\r\nimport { useParams } from 'react-router';\r\nimport { LoginSuccess } from './../../context/UserActions';\r\nimport logger from '../../utils/logger';\r\n\r\nconst Profile = () => {\r\n  const PF = process.env.REACT_APP_PUBLIC_FOLDER;\r\n  const [user, setUser] = useState({});\r\n  const [dropdown, setDropdown] = useState(false);\r\n  const username = useParams().username;\r\n  const { user: currentUser, dispatch } = useContext(UserContext);\r\n\r\n  useEffect(() => {\r\n    const getUser = async () => {\r\n      try {\r\n        const response = await axios.get(`/users?username=${username}`);\r\n        setUser(response.data);\r\n      } catch (error) {\r\n        logger.error(error);\r\n      }\r\n    }\r\n    getUser();\r\n  }, [username]);\r\n\r\n  const isValidEmail = email => /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(email);\r\n\r\n  const editProfile = async field => {\r\n      const updatedField = prompt('Enter your new ' + field + '.');\r\n      const confirmation = prompt('Enter Y to confirm or N to cancel. Casing does not matter.')?.toLowerCase();\r\n      if (confirmation === 'y') {\r\n        try {\r\n          const oldProfile = await axios.get(`/users?username=${username}`);\r\n          if (field === 'email' && isValidEmail(updatedField)) {\r\n            await axios.put(`/users/email/${user._id}`, { data: { ...oldProfile, email: updatedField } });\r\n          } else if (field === 'username') {\r\n            const result = await axios.put(`/users/username/${user._id}`, { data: { ...oldProfile, username: updatedField } });\r\n            const newName = result.data.name;\r\n            dispatch(LoginSuccess({ ...currentUser, username: newName }));\r\n            window.location.replace(`http://localhost:3000/profile/${newName}`);\r\n          } else if (field === 'password' && updatedField.length >= 5) {\r\n            await axios.put(`/users/password/${user._id}`, { data: { ...oldProfile, password: updatedField } });\r\n          } else {\r\n            alert(`Invalid ${field}. Passwords must be at least 5 characters and emails must be in valid format.`);\r\n            return;\r\n          }\r\n          alert(`${field} successfully changed.`);\r\n        } catch(error) {\r\n          logger.error(error);\r\n        }\r\n      }\r\n  };\r\n\r\n  const deleteAccount = async () => {\r\n    const confirmation = prompt('Enter Y to confirm or N to cancel. Casing does not matter.')?.toLowerCase();\r\n    if (confirmation === 'y') {\r\n      try {\r\n        await axios.delete(`/users/${currentUser._id}`, { data: currentUser });\r\n        localStorage.clear();\r\n        window.location.replace('http://localhost:3000/register');\r\n        dispatch(LoginSuccess(null));\r\n      } catch(error) {\r\n        logger.error(error);\r\n      }\r\n    }\r\n  };\r\n\r\n  const editEmail = () => editProfile('email');\r\n  const editUsername = () => editProfile('username');\r\n  const editPassword = () => editProfile('password');\r\n  const invertDropdown = () => setDropdown(!dropdown);\r\n\r\n  return (\r\n    <>\r\n      <Header isHomepage={false} username={username} />\r\n      <div className=\"profile\">\r\n        <FollowingBar user={user}/>\r\n        <div className=\"profileRight\">\r\n          <div className=\"profileCover\">\r\n              <img className=\"profileCoverPic\" src={user.coverPicture ? PF + user.coverPicture : PF + '/user/defaultCover.png'} alt=\"\"/>\r\n              <img className=\"profileProPic\" src={user.profilePicture ? PF + user.profilePicture : PF + '/user/defaultAvatar.jpg'} alt=\"\"/>\r\n          </div>\r\n          {dropdown && \r\n            <div className=\"profileDropdown triangle\">\r\n              <div className=\"profileDropdownEntry\" onClick={editEmail}>\r\n                <EmailIcon className=\"profileDropdownEdit\" />\r\n                <span className=\"profileDropdownEdit\">Change Email</span>\r\n              </div>\r\n              <div className=\"profileDropdownEntry\" onClick={editUsername}>\r\n                <AssignmentIndIcon className=\"profileDropdownEdit\" />\r\n                <span className=\"profileDropdownEdit\">Change Username</span>\r\n              </div>\r\n              <div className=\"profileDropdownEntry\" onClick={editPassword}>\r\n                <LockIcon className=\"profileDropdownEdit\" />\r\n                <span className=\"profileDropdownEdit\">Change Password</span>\r\n              </div>\r\n              <div className=\"profileDropdownEntry\" onClick={deleteAccount}>\r\n                <DeleteIcon className=\"profileDropdownDelete\" />\r\n                <span className=\"profileDropdownDelete\">Delete Account</span>\r\n              </div>\r\n            </div>\r\n          }\r\n          <div className=\"profileInfo\">\r\n            <a href=\"#top\">\r\n              <h4 className=\"profileInfoName\">{user.username}</h4>\r\n            </a>\r\n            <span className=\"profileInfoBio\">{user.bio}</span>\r\n            {user?._id === currentUser?._id && <MoreHorizIcon className=\"profileOptions\" onClick={invertDropdown} />}\r\n          </div>\r\n          <div className=\"profileRightBottom\">\r\n            <Feed username={username} isHomepage={false}/>\r\n            <ProfileInfo user={user}/> \r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Profile;","import axios from 'axios';\r\nimport { LoginStart, LoginFailure, LoginSuccess } from './context/UserActions';\r\n\r\nexport const loginCall = async (userCredentials, dispatch) => {\r\n  dispatch(LoginStart());\r\n  try {\r\n    const response = await axios.post('/auth/login', {\r\n      email: userCredentials.email.current.value.toLowerCase(),\r\n      password: userCredentials.password.current.value\r\n    });\r\n    dispatch(LoginSuccess(response.data));\r\n  } catch (error) {\r\n    dispatch(LoginFailure(error));\r\n    alert('No user exists with these credentials. Use Register Page for registration.');\r\n  }\r\n};  ","import './login.css';\r\nimport { useContext, useRef } from 'react'; \r\nimport { loginCall } from './../../apiCalls';\r\nimport { UserContext } from './../../context/UserContext';\r\nimport { CircularProgress } from '@material-ui/core';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst Login = () => {\r\n  const email = useRef();\r\n  const password = useRef();\r\n  const { isRetrieving, dispatch } = useContext(UserContext);\r\n\r\n  const handleClick = event => {\r\n    event.preventDefault();\r\n    loginCall({ email, password }, dispatch);\r\n  }\r\n\r\n  return (\r\n    <div className=\"login\">\r\n      <div className=\"loginWrapper\">\r\n        <div className=\"loginLeft\">\r\n          <h3 className=\"loginLogo\">InTouch</h3>\r\n          <span className=\"loginDescription\">The quickest and easiest way to stay in touch.</span>\r\n        </div>\r\n        <div className=\"loginRight\">\r\n          <form className=\"loginBox\" onSubmit={handleClick}>\r\n            <input className=\"loginInput\" placeholder=\"Email\" type=\"email\" ref={email} required/>\r\n            <input className=\"loginInput\" placeholder=\"Password\" type=\"password\" ref={password} required minLength=\"5\"/>\r\n            <button className=\"loginButton\" type=\"submit\" disabled={isRetrieving}>\r\n              {isRetrieving \r\n                ? <CircularProgress color=\"white\" size=\"20px\" /> \r\n                : \"Login\"\r\n              }\r\n            </button>\r\n            <Link to=\"/register\">\r\n              <div className=\"loginCreateAccount\" disabled={isRetrieving}>\r\n                Register Page\r\n              </div>\r\n            </Link>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;","import './register.css';\r\nimport { useContext, useRef, useState } from 'react';\r\nimport axios from 'axios';\r\nimport { Link } from 'react-router-dom';\r\nimport { CircularProgress } from '@material-ui/core';\r\nimport { UserContext } from './../../context/UserContext';\r\nimport { LoginSuccess } from './../../context/UserActions';\r\n\r\nconst Register = () => {\r\n  const [waiting, setWaiting] = useState(false);\r\n  const { dispatch } = useContext(UserContext)\r\n  const username = useRef();\r\n  const email = useRef();\r\n  const password = useRef();\r\n  const confirmPassword = useRef();\r\n\r\n  const handleClick = async event => {\r\n    event.preventDefault();\r\n    setWaiting(true);\r\n\r\n    const refresh = () => window.location.reload();\r\n\r\n    if (password.current.value !== confirmPassword.current.value) {\r\n      confirmPassword.current.setCustomValidity('Passwords do not match');\r\n      setWaiting(false);\r\n    } else {\r\n      const user = {\r\n        username: username.current.value,\r\n        email: email.current.value.toLowerCase(),\r\n        password: password.current.value\r\n      };\r\n\r\n      try {\r\n        const currUser = await axios.post('auth/register', user);\r\n        dispatch(LoginSuccess(currUser.data));\r\n        setWaiting(false);\r\n      } catch(error) {\r\n        alert('There is already a user with these credentials. Use Login Page for logging in.');\r\n        setWaiting(false);\r\n        setTimeout(refresh, 3000);\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"register\">\r\n      <div className=\"registerWrapper\">\r\n        <div className=\"registerLeft\">\r\n          <h3 className=\"registerLogo\">InTouch</h3>\r\n          <span className=\"registerDescription\">The quickest and easiest way to stay in touch.</span>\r\n        </div>\r\n        <div className=\"registerRight\">\r\n          <form className=\"registerBox\" onSubmit={handleClick}>\r\n            <input className=\"registerInput\" placeholder=\"Email\" ref={email} type=\"email\" required/>\r\n            <input className=\"registerInput\" placeholder=\"Username\" ref={username} required/>\r\n            <input className=\"registerInput\" placeholder=\"Password\" type=\"password\" ref={password} minLength=\"5\" required/>\r\n            <input className=\"registerInput\" placeholder=\"Confirm Password\" type=\"password\" ref={confirmPassword} minLength=\"5\" required/>\r\n            <button className=\"registerButton\" type=\"submit\" disabled={waiting}>\r\n              {waiting\r\n                ? <CircularProgress color=\"white\" size=\"20px\" />\r\n                : \"Create Account\"\r\n              }\r\n            </button>\r\n            <Link to=\"/login\">\r\n              <div className=\"registerButtonLogin\" disabled={waiting}>\r\n                Login Page\r\n              </div>\r\n            </Link>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Register;","import Home from './pages/home/Home';\nimport Profile from './pages/profile/Profile';\nimport Login from './pages/login/Login';\nimport Register from './pages/register/Register';\nimport { BrowserRouter as Router, Switch, Route, Redirect } from 'react-router-dom';\nimport { useContext } from 'react';\nimport { UserContext}  from './context/UserContext';\n\nconst App = () => {\n  const { user } = useContext(UserContext);\n\n  return (\n    <Router>\n      <Switch>\n        <Route exact path=\"/\">\n          {user ? <Home /> : <Register />}\n        </Route>\n        <Route path=\"/login\">\n          {user ? <Redirect to=\"/\" /> : <Login />}\n        </Route>\n        <Route path=\"/register\">\n          {user ? <Redirect to=\"/\" /> : <Register />}\n        </Route>\n        <Route path=\"/profile/:username\">\n          <Profile />\n        </Route>\n      </Switch>\n    </Router>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport { UserContextProvider } from './context/UserContext';\n\nReactDOM.render(\n  <React.StrictMode>\n    <UserContextProvider>\n      <App />\n    </UserContextProvider>  \n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}